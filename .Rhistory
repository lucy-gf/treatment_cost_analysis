# print plots
p1 + p2
# print plots
library(patchwork)
p1 + p2
p1 + p2 + plot_layout(nrow = 2)
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
interval_probs <- c(interval_width/2, 1 - interval_width/2)
interval_width <- 0.5
interval_probs <- c(interval_width/2, 1 - interval_width/2)
interval_probs
interval_width <- 0.95
interval_probs <- c(interval_width/2, 1 - interval_width/2)
interval_probs
interval_probs <- c((1 - interval_width)/2, 1 - (1 - interval_width)/2)
interval_probs
cat('\nConf. interval width = ', 100*interval_width, '%', sep = '')
interval_width <- 0.95
interval_probs <- c((1 - interval_width)/2, 1 - (1 - interval_width)/2)
cat('\nConf. interval width = ', 100*interval_width, '%\n', sep = '')
interval_width <- 0.5
interval_probs <- c((1 - interval_width)/2, 1 - (1 - interval_width)/2)
cat('\nConf. interval width = ', 100*interval_width, '%\n', sep = '')
pred_gdp <- predict(lm_hosp, newdata = newdata_gdp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_gdp)
pred_hce <- predict(lm_hosp, newdata = newdata_hce, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_hce)
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = Q2.5, ymax = Q97.5), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by GDPpc (HCE fixed)",
x = "GDP per capita (GDPpc)",
y = "Predicted hosp_cost"
) +
theme_minimal()
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = Q2.5, ymax = Q97.5), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by HCE (GDPpc fixed)",
x = "Health Care Expenditure (HCE)",
y = "Predicted hosp_cost"
) +
theme_minimal()
# print plots
library(patchwork)
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
pred_gdp
paste0('Q', 100*interval_probs[1])
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by HCE (GDPpc fixed)",
x = "Health Care Expenditure (HCE)",
y = "Predicted hosp_cost"
) +
theme_minimal()
p2
# plot predictions against observed data
fitted(lm_hosp, newdata = use_hosp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(use_hosp) %>%
mutate(outcome = 'hosp') %>%
rbind(fitted(lm_outp, newdata = use_outp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(use_outp) %>%
mutate(outcome = 'outp')) %>%
ggplot(aes(x = gdpcap, col = iso3c)) +
geom_point(aes(y = cost_usd_main_yr),
shape = 4) +
geom_point(aes(y = Estimate)) +
geom_errorbar(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2])))) +
labs(x = "GDP per capita", y = "Treatment cost") +
scale_x_log10() +
theme_bw() +
facet_grid(outcome ~ study_pop, scales = 'free')
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by HCE (GDPpc fixed)",
x = "Health Care Expenditure (HCE)",
y = "Predicted hosp_cost"
) +
theme_minimal()
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by GDPpc (HCE fixed)",
x = "GDP per capita (GDPpc)",
y = "Predicted hosp_cost"
) +
theme_minimal()
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted hosp_cost by HCE (GDPpc fixed)",
x = "Health Care Expenditure (HCE)",
y = "Predicted hosp_cost"
) +
theme_minimal()
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) +
theme_minimal()
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal()
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
pred_hce
unique(use_hosp$study_pop)
age_colors <- c('all' = '#d91818', 'adult' = '#e2790e', 'elderly' = '#eacb2c', 'children' = '#62adc1')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) + scale_x_log10() +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by log GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) + scale_x_log10() +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# Create grid for GDPpc varying, HCE fixed
newdata_gdp <- expand.grid(
gdpcap = seq(min(use_hosp$gdpcap, na.rm = TRUE),
max(use_hosp$gdpcap, na.rm = TRUE),
length.out = 100),
hce_prop_gdp = fixed_HCE,
study_pop = unique(use_hosp$study_pop)
)
# Create grid for HCE varying, GDPpc fixed
newdata_hce <- expand.grid(
gdpcap = fixed_gdpcap,
hce_prop_gdp = seq(min(use_hosp$hce_prop_gdp, na.rm = TRUE),
max(use_hosp$hce_prop_gdp, na.rm = TRUE),
length.out = 100),
study_pop = unique(use_hosp$study_pop)
)
pred_gdp <- predict(lm_hosp, newdata = newdata_gdp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_gdp)
pred_hce <- predict(lm_hosp, newdata = newdata_hce, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_hce)
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by log GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) + scale_x_log10() +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
interval_width <- 0.95
interval_probs <- c((1 - interval_width)/2, 1 - (1 - interval_width)/2)
cat('\nConf. interval width = ', 100*interval_width, '%\n', sep = '')
# fix hce_prop_gdp at median (or some value)
fixed_HCE <- median(use_hosp$hce_prop_gdp, na.rm = TRUE)
# fix gdpcap at median (or some value)
fixed_gdpcap <- median(use_hosp$gdpcap, na.rm = TRUE)
# Create grid for GDPpc varying, HCE fixed
newdata_gdp <- expand.grid(
gdpcap = seq(min(use_hosp$gdpcap, na.rm = TRUE),
max(use_hosp$gdpcap, na.rm = TRUE),
length.out = 100),
hce_prop_gdp = fixed_HCE,
study_pop = unique(use_hosp$study_pop)
)
# Create grid for HCE varying, GDPpc fixed
newdata_hce <- expand.grid(
gdpcap = fixed_gdpcap,
hce_prop_gdp = seq(min(use_hosp$hce_prop_gdp, na.rm = TRUE),
max(use_hosp$hce_prop_gdp, na.rm = TRUE),
length.out = 100),
study_pop = unique(use_hosp$study_pop)
)
pred_gdp <- predict(lm_hosp, newdata = newdata_gdp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_gdp)
pred_hce <- predict(lm_hosp, newdata = newdata_hce, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_hce)
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by log GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) + scale_x_log10() +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
interval_width <- 0.5
interval_probs <- c((1 - interval_width)/2, 1 - (1 - interval_width)/2)
cat('\nConf. interval width = ', 100*interval_width, '%\n', sep = '')
# fix hce_prop_gdp at median (or some value)
fixed_HCE <- median(use_hosp$hce_prop_gdp, na.rm = TRUE)
# fix gdpcap at median (or some value)
fixed_gdpcap <- median(use_hosp$gdpcap, na.rm = TRUE)
# Create grid for GDPpc varying, HCE fixed
newdata_gdp <- expand.grid(
gdpcap = seq(min(use_hosp$gdpcap, na.rm = TRUE),
max(use_hosp$gdpcap, na.rm = TRUE),
length.out = 100),
hce_prop_gdp = fixed_HCE,
study_pop = unique(use_hosp$study_pop)
)
# Create grid for HCE varying, GDPpc fixed
newdata_hce <- expand.grid(
gdpcap = fixed_gdpcap,
hce_prop_gdp = seq(min(use_hosp$hce_prop_gdp, na.rm = TRUE),
max(use_hosp$hce_prop_gdp, na.rm = TRUE),
length.out = 100),
study_pop = unique(use_hosp$study_pop)
)
pred_gdp <- predict(lm_hosp, newdata = newdata_gdp, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_gdp)
pred_hce <- predict(lm_hosp, newdata = newdata_hce, re_formula = NA, probs = interval_probs) %>%
as_tibble() %>%
bind_cols(newdata_hce)
# plot hosp_cost ~ GDPpc for each study_pop
p1 <- ggplot(pred_gdp, aes(x = gdpcap, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by log GDPpc (HCE fixed)",
x = "GDP per capita",
y = "Predicted cost"
) + scale_x_log10() +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# plot hosp_cost ~ HCE for each study_pop
p2 <- ggplot(pred_hce, aes(x = hce_prop_gdp, y = Estimate, color = study_pop, fill = study_pop)) +
geom_line(size = 1) +
geom_ribbon(aes(ymin = get(paste0('Q', 100*interval_probs[1])), ymax = get(paste0('Q', 100*interval_probs[2]))), alpha = 0.2, color = NA) +
labs(
title = "Predicted cost by HCE (GDPpc fixed)",
x = "Healthcare expenditure as a proportion of GDP per capita",
y = "Predicted cost"
) +
theme_minimal() +
scale_fill_manual(values = age_colors) +
scale_color_manual(values = age_colors)
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
unique(costs_gdp %>%
select(iso3c, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, iso3c))
unique(costs_gdp %>%
select(iso3c, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = iso3c)) +
theme_bw() +
labs(x = 'GDP per capita', y = 'Healthcare expenditure as a proportion of GDP per capita',
col = '')
costs_gdp
unique(costs_gdp %>%
select(study_year, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita', y = 'Healthcare expenditure as a proportion of GDP per capita')
unique(costs_gdp %>%
select(study_year, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
unique(costs_gdp %>%
select(study_year, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
unique(costs_gdp %>%
select(study_year, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
source("~/Desktop/LSHTM/Research_Assistant_2325/Hospitalisation Costs/treatment_cost_analysis/scripts/setup/packages.R")
unique(costs_gdp %>%
select(study_year, gdpcap, hce_prop_gdp)) %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
unique(costs_gdp %>%
select(iso3c, study_year, gdpcap, hce_prop_gdp)) %>%
filter(iso3c == 'USA') %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
unique(costs_gdp %>%
select(iso3c, study_year, gdpcap, hce_prop_gdp)) %>%
# filter(iso3c == 'USA') %>%
ggplot() +
geom_point(aes(gdpcap, hce_prop_gdp, col = study_year)) +
theme_bw() +
labs(x = 'GDP per capita',
y = 'Healthcare expenditure as a proportion of GDP per capita') +
scale_color_viridis()
# print plots
p1 + p2 + plot_layout(nrow = 2, guides = 'collect')
loo(lm_hosp)
loo_compare(loo(lm_hosp),loo(lm_outp))
